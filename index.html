<!DOCTYPE html>
<html>
  <head>
    <title>Apuesta al clic</title>
    <script
      src="https://unpkg.com/htmx.org@1.9.5"
      integrity="sha384-xcuj3WpfgjlKF+FXhSQFQ0ZNr39ln+hwjN3npfM9VBnUskLolQAcN80McRIVOPuO"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.11"></script>
    <style>
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 20px;
      }

      /* Estilo para el título */
      h1 {
        font-size: 2rem;
        margin-bottom: 20px;
      }

      /* Estilo para el botón rojo */
      .red-button {
        background-color: red;
        color: white;
        padding: 20px;
        border-radius: 50%; /* Hace el botón redondo */
        font-size: 1.5rem;
        border: none;
        cursor: pointer;
        transition: transform 0.3s ease, background-color 0.3s ease; /* Transición suave */
      }

      /* Efecto hover para el botón rojo */
      .red-button:hover {
        background-color: darkred;
        color: yellow;
        transform: scale(1.5); /* Escala el botón */
      }

      /* Estilo para el contador */
      .counter {
        font-size: 1.5rem;
        margin: 20px;
      }

      /* Estilo para el botón de apuesta */
      .bet-button {
        background-color: #4caf50;
        color: white;
        padding: 15px 30px;
        font-size: 1.5rem;
        border: none;
        cursor: pointer;
      }

      .bet-button:hover {
        background-color: darkgreen;
      }

      /* estilo para el contenedor de respuesta */
      .result-container {
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <h1>Apuesta al clic</h1>

    <!-- Contador de clics -->
    <div class="counter">Clics: <span id="counter">0</span></div>

    <!-- Botón rojo grande y redondo -->
    <button
      class="red-button"
      _="on click set #counter.innerHTML to (Number(#counter.innerHTML) + 1) mod 11"
    >
      Clic
    </button>

    <hr />

    <!-- Botón para hacer la apuesta con emojis -->
    <button
      class="bet-button"
      _="on click if Number(#counter.innerHTML) != (Number(#form.innerHTML) - 1) then set #result-gif.src to 'https://giphy.com/embed/5aYiXtUDSHbFBoScRP' else set #result-gif.src to 'https://giphy.com/embed/3o72FeJnjfZZ31WjBu' end"
    >
      🎲 Apuesta 🎲
    </button>

    <form
      id="form"
      hx-post="https://randommer.io/Number"
      hx-trigger="load"
      style="display: none"
      _="on htmx:afterSwap log Number(my innerHTML)"
    >
      <input type="hidden" name="LowerRange" value="1" />
      <input type="hidden" name="HigherRange" value="11" />
      <input type="hidden" name="range" value="range" />
      <input type="hidden" name="X-Requested-With" value="XMLHttpRequest" />
    </form>

    <div class="result-container">
      <iframe
        id="result-gif"
        src=""
        width="480"
        height="304"
        frameborder="0"
        class="giphy-embed"
        allowfullscreen
      ></iframe>
    </div>
  </body>
</html>
